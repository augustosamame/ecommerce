<!-- Content
============================================= -->
<section id="content">

	<div class="content-wrap" style= "margin-top: 50px; margin-bottom: 200px;">

		<div class="container clearfix">

			<div class="row clearfix">
				<div class="col-md-8">

					<h3 style = "margin-bottom: 50px;"><%= t('.send_us_a_message') %></h3>

					<div class="">

						<div class="contact-form-result"></div>


							<%= simple_form_for @contact_message, :url => contact_us_path, :method => :post, html: { class: "nobottommargin"} do |f| %>

							<div class="form-process"></div>

							<div class="col_one_third">
								<label for="template-contactform-name"><%= t('.name') %> <small>*</small></label>
								<%= f.input :name, label: false, input_html: { class: 'sm-form-control required' } %>
							</div>

							<div class="col_one_third">
								<label for="template-contactform-email"><%= t('.email') %> <small>*</small></label>
								<%= f.input :email, label: false, input_html: { class: 'required email sm-form-control' } %>
							</div>

							<div class="col_one_third col_last">
								<label for="template-contactform-phone"><%= t('.phone') %></label>
								<%= f.input :phone, label: false, input_html: { class: 'sm-form-control' } %>
							</div>

							<div class="clear"></div>

							<div class="col_full">
								<label for="template-contactform-message"><%= t('.message') %> <small>*</small></label>
								<%= f.input :message, label: false, as: :text, input_html: { class: 'required sm-form-control', rows: 6, cols: 30 } %>
							</div>

							<div class="col_full">
								<%= f.button :submit, t('.send_message'), class: "button button-3d nomargin contact-button", id: "contact-form" %>
							</div>

						<% end %>
					</div>

				</div>

			</div>

		</div>

	</div>

</section><!-- #content end -->

<script>

document.addEventListener("DOMContentLoaded", function(event) {
// Gets a reference to the form element, assuming
// it contains the id attribute "signup-form".
var form = document.getElementById('new_contact');

// Adds a listener for the "submit" event.
form.addEventListener('submit', function(event) {
  // Prevents the browser from submitting the form
  // and thus unloading the current page.
  event.preventDefault();

  // Creates a timeout to call `submitForm` after one second.
  setTimeout(submitForm, 1000);

  // Keeps track of whether or not the form has been submitted.
  // This prevents the form from being submitted twice in cases
  // where `hitCallback` fires normally.
  var formSubmitted = false;

  function submitForm() {
    if (!formSubmitted) {
      formSubmitted = true;
      form.submit();
    }
  }

  // Sends the event to Google Analytics and
  // resubmits the form once the hit is done.
  ga('send', 'event', 'Contact Form', 'submit', {
    hitCallback: submitForm
  });
});

});
</script>
